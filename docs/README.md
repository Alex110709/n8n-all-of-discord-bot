# n8n Discord Bot - Complete Integration

Discord ë´‡ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ n8n ì»¤ìŠ¤í…€ ë…¸ë“œì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ¯ ì§€ì›í•˜ëŠ” ë¦¬ì†ŒìŠ¤

#### Discord ë…¸ë“œ (ê¸°ë³¸ ì‘ì—…)

1. **Message (ë©”ì‹œì§€)**
   - ë©”ì‹œì§€ ì „ì†¡, ìˆ˜ì •, ì‚­ì œ
   - ë©”ì‹œì§€ ì¡°íšŒ, ë¦¬ì•¡ì…˜ ì¶”ê°€
   - ë©”ì‹œì§€ ê³ ì •/ê³ ì • í•´ì œ

2. **DM (ë‹¤ì´ë ‰íŠ¸ ë©”ì‹œì§€)**
   - íŠ¹ì • ì‚¬ìš©ìì—ê²Œ ê°œì¸ ë©”ì‹œì§€ ì „ì†¡

3. **Channel (ì±„ë„)**
   - ì±„ë„ ìƒì„±, ì‚­ì œ, ìˆ˜ì •
   - ì±„ë„ ì •ë³´ ì¡°íšŒ
   - ì±„ë„ ëª©ë¡ ì¡°íšŒ
   - ì§€ì› ì±„ë„ íƒ€ì…: Text, Voice, Category, Announcement, Stage, Forum

4. **Guild (ì„œë²„)**
   - ì„œë²„ ì •ë³´ ì¡°íšŒ ë° ìˆ˜ì •
   - ë©¤ë²„ ë°´/ì–¸ë°´
   - ë°´ ëª©ë¡ ì¡°íšŒ

5. **Member (ë©¤ë²„)**
   - ë©¤ë²„ ì •ë³´ ì¡°íšŒ
   - ë©¤ë²„ í‚¥
   - ë©¤ë²„ ëª©ë¡ ì¡°íšŒ
   - ì—­í•  ì¶”ê°€/ì œê±°

6. **Role (ì—­í• )**
   - ì—­í•  ìƒì„±, ì‚­ì œ, ìˆ˜ì •
   - ì—­í•  ì •ë³´ ì¡°íšŒ
   - ì—­í•  ëª©ë¡ ì¡°íšŒ
   - ê¶Œí•œ, ìƒ‰ìƒ, í˜¸ì´ìŠ¤íŠ¸ ë“± ì„¤ì •

7. **Webhook (ì›¹í›…)**
   - ì›¹í›… ìƒì„±
   - ì›¹í›…ì„ í†µí•œ ë©”ì‹œì§€ ì „ì†¡

8. **Invite (ì´ˆëŒ€)**
   - ì´ˆëŒ€ ë§í¬ ìƒì„±
   - ì´ˆëŒ€ ì •ë³´ ì¡°íšŒ
   - ì´ˆëŒ€ ëª©ë¡ ì¡°íšŒ
   - ìµœëŒ€ ì‚¬ìš© íšŸìˆ˜, ìœ íš¨ ê¸°ê°„ ë“± ì„¤ì •

#### Discord Tools ë…¸ë“œ (ê³ ê¸‰ ìœ í‹¸ë¦¬í‹°) ğŸ†•

1. **Message Tools**
   - ë©”ì‹œì§€ ì¼ê´„ ê°€ì ¸ì˜¤ê¸°
   - ë©”ì‹œì§€ ê²€ìƒ‰ (í…ìŠ¤íŠ¸ ê¸°ë°˜)
   - ë©˜ì…˜ ë©”ì‹œì§€ ì¡°íšŒ
   - ëŒ€ëŸ‰ ì‚­ì œ (ìµœëŒ€ 100ê°œ)
   - ìƒì„¸ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬

2. **User Tools**
   - ì‚¬ìš©ì ìƒì„¸ ì •ë³´
   - ì•„ë°”íƒ€/í”„ë¡œí•„ ì¡°íšŒ
   - ì˜¨ë¼ì¸ ìƒíƒœ í™•ì¸
   - ê¶Œí•œ í™•ì¸

3. **Channel Tools**
   - ë©”ì‹œì§€ ê°œìˆ˜ ì¡°íšŒ
   - í™œì„± ì‚¬ìš©ì ëª©ë¡
   - ê³ ì • ë©”ì‹œì§€ ì¡°íšŒ
   - ìŠ¬ë¡œìš°ëª¨ë“œ ì„¤ì •
   - ì›¹í›… ëª©ë¡

4. **Guild Tools**
   - ì„œë²„ í†µê³„ (ì±„ë„, ì—­í• , ë©¤ë²„ ìˆ˜ ë“±)
   - ì˜¨ë¼ì¸ ë©¤ë²„ ìˆ˜
   - ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ
   - ì»¤ìŠ¤í…€ ì´ëª¨ì§€ ëª©ë¡

5. **Emoji Tools**
   - ì´ëª¨ì§€ ìƒì„±
   - ì´ëª¨ì§€ ì‚­ì œ
   - ì´ëª¨ì§€ ëª©ë¡ ì¡°íšŒ

### âš¡ Discord Trigger Node

ì‹¤ì‹œê°„ìœ¼ë¡œ Discord ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ëŠ” íŠ¸ë¦¬ê±° ë…¸ë“œ:

- **ë©”ì‹œì§€ ì´ë²¤íŠ¸**: ë©”ì‹œì§€ ìƒì„±, ì‚­ì œ, ìˆ˜ì •
- **DM ì´ë²¤íŠ¸**: ë‹¤ì´ë ‰íŠ¸ ë©”ì‹œì§€ ìˆ˜ì‹  ğŸ†•
- **ë©˜ì…˜ ì´ë²¤íŠ¸**: ë´‡ ë©˜ì…˜, íŠ¹ì • ì‚¬ìš©ì ë©˜ì…˜, ì—­í•  ë©˜ì…˜ ğŸ†•
- **ë¦¬ì•¡ì…˜ ì´ë²¤íŠ¸**: ë¦¬ì•¡ì…˜ ì¶”ê°€, ì œê±°
- **ë©¤ë²„ ì´ë²¤íŠ¸**: ë©¤ë²„ ê°€ì…, í‡´ì¥, ì •ë³´ ë³€ê²½
- **ì—­í•  ì´ë²¤íŠ¸**: ì—­í•  ìƒì„±, ì‚­ì œ, ìˆ˜ì •
- **ì±„ë„ ì´ë²¤íŠ¸**: ì±„ë„ ìƒì„±, ì‚­ì œ, ìˆ˜ì •
- **ë°´ ì´ë²¤íŠ¸**: ë©¤ë²„ ë°´, ì–¸ë°´
- **ìƒí˜¸ì‘ìš© ì´ë²¤íŠ¸**: ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ, ë²„íŠ¼ í´ë¦­ ë“±
- **ìŒì„± ì´ë²¤íŠ¸**: ìŒì„± ì±„ë„ ì…ì¥/í‡´ì¥, ìŒì†Œê±° ë“±
- **íƒ€ì´í•‘ ì´ë²¤íŠ¸**: ì‚¬ìš©ì íƒ€ì´í•‘ ì‹œì‘

#### í•„í„° ì˜µì…˜
- íŠ¹ì • ì„œë²„(Guild ID)
- íŠ¹ì • ì±„ë„(Channel ID)
- íŠ¹ì • ì‚¬ìš©ì(User ID)
- ë´‡ ë¬´ì‹œ ì˜µì…˜
- ë©”ì‹œì§€ ë‚´ìš© í¬í•¨ ì—¬ë¶€
- ë©”ì‹œì§€ ì‹œì‘ ë¬¸ìì—´ (ì»¤ë§¨ë“œ í•„í„°ë§)
- DM ë°œì‹ ì ì œí•œ (íŠ¹ì • ì‚¬ìš©ìë¡œë¶€í„°ë§Œ DM ìˆ˜ì‹ ) ğŸ†•
- ë©˜ì…˜ ëŒ€ìƒ ì§€ì • (íŠ¹ì • ì‚¬ìš©ì/ì—­í•  ë©˜ì…˜ë§Œ ê°ì§€) ğŸ†•

## ì„¤ì¹˜ ë°©ë²•

### 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install n8n-nodes-discord-all
```

### 2. n8nì— íŒ¨í‚¤ì§€ ë“±ë¡

n8n í™˜ê²½ ë³€ìˆ˜ì— ì»¤ìŠ¤í…€ ë…¸ë“œë¥¼ ì¶”ê°€:

```bash
export N8N_CUSTOM_EXTENSIONS="/path/to/n8n-nodes-discord-all"
```

ë˜ëŠ” n8n ì„¤ì • íŒŒì¼ì— ì¶”ê°€.

### 3. Discord Bot ìƒì„±

1. [Discord Developer Portal](https://discord.com/developers/applications)ì— ì ‘ì†
2. "New Application" í´ë¦­í•˜ì—¬ ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±
3. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ "Bot" ì„ íƒ
4. "Add Bot" í´ë¦­
5. "Reset Token" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë´‡ í† í° ë³µì‚¬ (ì•ˆì „í•˜ê²Œ ë³´ê´€!)
6. "Privileged Gateway Intents" ì„¹ì…˜ì—ì„œ ë‹¤ìŒ í™œì„±í™”:
   - Presence Intent
   - Server Members Intent
   - Message Content Intent

### 4. Bot ì´ˆëŒ€

1. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ "OAuth2" > "URL Generator" ì„ íƒ
2. Scopesì—ì„œ "bot" ì„ íƒ
3. Bot Permissionsì—ì„œ í•„ìš”í•œ ê¶Œí•œ ì„ íƒ:
   - Send Messages
   - Manage Messages
   - Manage Channels
   - Manage Roles
   - Kick Members
   - Ban Members
   - Read Message History
   - Add Reactions
   - ê¸°íƒ€ í•„ìš”í•œ ê¶Œí•œë“¤
4. ìƒì„±ëœ URLë¡œ ë´‡ì„ ì„œë²„ì— ì´ˆëŒ€

## ì‚¬ìš©ë²•

### Credentials ì„¤ì •

1. n8nì—ì„œ "Credentials" > "New" í´ë¦­
2. "Discord API" ì„ íƒ
3. Bot Token ì…ë ¥ (Discord Developer Portalì—ì„œ ë³µì‚¬í•œ í† í°)
4. Application ID ì…ë ¥ (ì„ íƒì‚¬í•­)

### ë©”ì‹œì§€ ì „ì†¡ ì˜ˆì œ

```
Node: Discord
Resource: Message
Operation: Send
Channel ID: 1234567890123456789
Message Content: "Hello from n8n!"
```

### ì„ë² ë“œ ë©”ì‹œì§€ ì „ì†¡

Additional Fields > Embedì— JSON ì…ë ¥:

```json
{
  "title": "ì„ë² ë“œ ì œëª©",
  "description": "ì„ë² ë“œ ì„¤ëª…",
  "color": 5814783,
  "fields": [
    {
      "name": "í•„ë“œ 1",
      "value": "ê°’ 1",
      "inline": true
    }
  ],
  "footer": {
    "text": "í‘¸í„° í…ìŠ¤íŠ¸"
  }
}
```

### ì±„ë„ ìƒì„± ì˜ˆì œ

```
Node: Discord
Resource: Channel
Operation: Create
Guild ID: 1234567890123456789
Channel Name: "ìƒˆ-ì±„ë„"
Channel Type: Text
Additional Fields:
  - Topic: "ì±„ë„ ì£¼ì œ"
  - NSFW: false
```

### ì—­í•  ìƒì„± ì˜ˆì œ

```
Node: Discord
Resource: Role
Operation: Create
Guild ID: 1234567890123456789
Role Name: "VIP"
Color: "#FFD700"
Additional Fields:
  - Hoisted: true
  - Mentionable: true
```

### DM ì „ì†¡ ì˜ˆì œ

```
Node: Discord
Resource: DM
Operation: Send
User ID: 1234567890123456789
Message Content: "ê°œì¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤!"
```

### Discord Trigger ì‚¬ìš© ì˜ˆì œ

#### 1. ì»¤ë§¨ë“œ ë´‡ (ë©”ì‹œì§€ íŠ¸ë¦¬ê±°)
```
Node: Discord Trigger
Event: Message Created
Filters:
  - Guild ID: 1234567890123456789
  - Channel ID: 9876543210987654321
  - Ignore Bots: true
  - Message Starts With: "!"
```

#### 2. DM ìë™ ì‘ë‹µ ë´‡ ğŸ†•
```
Node: Discord Trigger
Event: DM Received
Filters:
  - Ignore Bots: true
  - DM Only From Users: 123456789,987654321 (ì„ íƒì‚¬í•­)
```

#### 3. ë´‡ ë©˜ì…˜ ê°ì§€ ğŸ†•
```
Node: Discord Trigger
Event: Bot Mentioned
Filters:
  - Guild ID: 1234567890123456789
  - Ignore Bots: true
```

#### 4. íŠ¹ì • ì‚¬ìš©ì ë©˜ì…˜ ê°ì§€ ğŸ†•
```
Node: Discord Trigger
Event: User Mentioned
Mention User IDs: 123456789,987654321
Filters:
  - Ignore Bots: true
```

#### 5. ì—­í•  ë©˜ì…˜ ê°ì§€ (ì˜ˆ: @Moderator) ğŸ†•
```
Node: Discord Trigger
Event: Role Mentioned
Mention Role IDs: 123456789,987654321
Filters:
  - Guild ID: 1234567890123456789
```

## ê¶Œí•œ ìš”êµ¬ì‚¬í•­

ê° ê¸°ëŠ¥ë³„ í•„ìš”í•œ Discord ê¶Œí•œ:

- **ë©”ì‹œì§€**: `SEND_MESSAGES`, `READ_MESSAGE_HISTORY`
- **ë©”ì‹œì§€ ê´€ë¦¬**: `MANAGE_MESSAGES`
- **ì±„ë„ ê´€ë¦¬**: `MANAGE_CHANNELS`
- **ì—­í•  ê´€ë¦¬**: `MANAGE_ROLES`
- **ë©¤ë²„ í‚¥**: `KICK_MEMBERS`
- **ë©¤ë²„ ë°´**: `BAN_MEMBERS`
- **ì›¹í›… ê´€ë¦¬**: `MANAGE_WEBHOOKS`

## ID ì°¾ëŠ” ë°©ë²•

Discordì—ì„œ ê°œë°œì ëª¨ë“œë¥¼ í™œì„±í™”í•˜ë©´ IDë¥¼ ì‰½ê²Œ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. Discord ì„¤ì • > ê³ ê¸‰ > ê°œë°œì ëª¨ë“œ í™œì„±í™”
2. ì›í•˜ëŠ” í•­ëª©(ì„œë²„, ì±„ë„, ì‚¬ìš©ì ë“±) ìš°í´ë¦­
3. "ID ë³µì‚¬" ì„ íƒ

## ì˜ˆì œ ì›Œí¬í”Œë¡œìš°

### 1. í™˜ì˜ ë©”ì‹œì§€ ìë™í™”

```
Discord Trigger (Member Joined)
  â†“
Discord (Send DM)
  Message: "{{$json["username"]}}ë‹˜, ì„œë²„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!"
```

### 2. ì»¤ë§¨ë“œ ë´‡

```
Discord Trigger (Message Created, starts with "!")
  â†“
IF Node (ë©”ì‹œì§€ ë‚´ìš© ë¶„ì„)
  â†“
Discord (Send Message) - ì‘ë‹µ ì „ì†¡
```

### 3. ë©¤ë²„ ì—­í•  ìë™ í• ë‹¹

```
Discord Trigger (Member Joined)
  â†“
Discord (Add Role)
  Guild ID: {{$json["guildId"]}}
  User ID: {{$json["userId"]}}
  Role ID: "1234567890123456789"
```

### 4. ë©”ì‹œì§€ ë¡œê¹…

```
Discord Trigger (Message Created)
  â†“
Google Sheets (Append Row)
  - ì‹œê°„: {{$json["createdTimestamp"]}}
  - ì‚¬ìš©ì: {{$json["username"]}}
  - ë‚´ìš©: {{$json["content"]}}
```

## ë¬¸ì œ í•´ê²°

### Botì´ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì§€ ëª»í•¨
- ì±„ë„ì— ë´‡ì˜ ë©”ì‹œì§€ ì „ì†¡ ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸
- Bot Tokenì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸

### Triggerê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ
- Privileged Gateway Intentsê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- Bot Tokenì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- n8nì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

### ê¶Œí•œ ì˜¤ë¥˜
- Discord Developer Portalì—ì„œ ë´‡ì—ê²Œ í•„ìš”í•œ ê¶Œí•œì„ ë¶€ì—¬í–ˆëŠ”ì§€ í™•ì¸
- ì„œë²„ì—ì„œ ë´‡ì˜ ì—­í•  ê¶Œí•œì„ í™•ì¸

## ê°œë°œ ë° ê¸°ì—¬

### ë¡œì»¬ ê°œë°œ

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ëª¨ë“œ (íŒŒì¼ ê°ì‹œ)
npm run dev

# ë¹Œë“œ
npm run build

# ë¦°íŠ¸
npm run lint

# í¬ë§·íŒ…
npm run format
```

## ë¼ì´ì„ ìŠ¤

MIT

## ì§€ì›

ì´ìŠˆë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesì— ë“±ë¡í•´ì£¼ì„¸ìš”.

## ì—…ë°ì´íŠ¸ ë¡œê·¸

### v1.0.0
- ì´ˆê¸° ë¦´ë¦¬ìŠ¤
- ëª¨ë“  ì£¼ìš” Discord ê¸°ëŠ¥ ì§€ì›
- Discord Trigger ë…¸ë“œ ì¶”ê°€
- ì™„ì „í•œ í•„í„°ë§ ì˜µì…˜
